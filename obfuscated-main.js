const a0_0x152d80=a0_0x3e54;(function(_0x3232f7,_0x262ce2){const _0xec151e=a0_0x3e54,_0x4ce914=_0x3232f7();while(!![]){try{const _0x3c4be9=parseInt(_0xec151e(0x157))/0x1+parseInt(_0xec151e(0x1c1))/0x2+parseInt(_0xec151e(0x1ad))/0x3+-parseInt(_0xec151e(0x215))/0x4+parseInt(_0xec151e(0x150))/0x5*(parseInt(_0xec151e(0x1c3))/0x6)+parseInt(_0xec151e(0x1e6))/0x7+parseInt(_0xec151e(0x210))/0x8*(-parseInt(_0xec151e(0x1f9))/0x9);if(_0x3c4be9===_0x262ce2)break;else _0x4ce914['push'](_0x4ce914['shift']());}catch(_0x555f9c){_0x4ce914['push'](_0x4ce914['shift']());}}}(a0_0x2568,0x4c64f));const {app,BrowserWindow,ipcMain,shell}=require(a0_0x152d80(0x177)),path=require(a0_0x152d80(0x209)),RPC=require(a0_0x152d80(0x195)),fs=require(a0_0x152d80(0x183)),axios=require('axios'),unzipper=require(a0_0x152d80(0x1ef)),{exec}=require('child_process'),{autoUpdater}=require(a0_0x152d80(0x1b3)),log=require(a0_0x152d80(0x173)),Store=require('electron-store'),{Client,Authenticator}=require(a0_0x152d80(0x170)),store=new Store();autoUpdater[a0_0x152d80(0x1cc)]=log,autoUpdater[a0_0x152d80(0x1cc)][a0_0x152d80(0x13c)][a0_0x152d80(0x147)][a0_0x152d80(0x219)]=a0_0x152d80(0x13e),log['info'](a0_0x152d80(0x1d7));let launcher,mainWindow;const clientId=a0_0x152d80(0x1cd),rpc=new RPC[(a0_0x152d80(0x176))]({'transport':a0_0x152d80(0x160)}),SUPPORTED_VERSIONS=[a0_0x152d80(0x14e),a0_0x152d80(0x214),a0_0x152d80(0x135),a0_0x152d80(0x154)],VERSION_JSON_MAP={'fabric\x201.21.4':a0_0x152d80(0x193),'fabric\x201.21.4s':a0_0x152d80(0x193),'fabric\x201.21.5':a0_0x152d80(0x193),'fabric\x201.21.5s':a0_0x152d80(0x193)},VERSION_JSON_URLS={'fabric\x201.21.4':a0_0x152d80(0x15b),'fabric\x201.21.4s':a0_0x152d80(0x15b),'fabric\x201.21.5':'https://github.com/SheldersonGD/versions/releases/download/versions/fabric-shelder-edition-1.21.5.json','fabric\x201.21.5s':'https://github.com/SheldersonGD/versions/releases/download/versions/fabric-shelder-edition-1.21.5.json'};async function createNecessaryDirectories(){const _0x16b2e5=a0_0x152d80,_0x4e3322=app[_0x16b2e5(0x216)](_0x16b2e5(0x149)),_0x52b473=path[_0x16b2e5(0x16d)](_0x4e3322,_0x16b2e5(0x179)),_0x18eefe=path['join'](_0x52b473,'java'),_0x43344f=await installJava(_0x18eefe);if(!_0x43344f){log[_0x16b2e5(0x211)](_0x16b2e5(0x1ee));mainWindow&&!mainWindow['isDestroyed']()&&mainWindow[_0x16b2e5(0x188)]['send']('error-message',_0x16b2e5(0x1ee));return;}try{await verifyJava(_0x43344f);}catch(_0x210e8d){log[_0x16b2e5(0x211)](_0x16b2e5(0x1ff)+_0x210e8d[_0x16b2e5(0x212)]);mainWindow&&!mainWindow[_0x16b2e5(0x1e7)]()&&mainWindow['webContents'][_0x16b2e5(0x178)](_0x16b2e5(0x200),_0x16b2e5(0x1ff)+_0x210e8d[_0x16b2e5(0x212)]);return;}for(const _0x273034 of SUPPORTED_VERSIONS){const _0x457f1a=path[_0x16b2e5(0x16d)](_0x52b473,_0x273034),_0x58399f=path[_0x16b2e5(0x16d)](_0x457f1a,'mods'),_0x4c26fc=path[_0x16b2e5(0x16d)](_0x457f1a,_0x16b2e5(0x164)),_0x4eb41a=path[_0x16b2e5(0x16d)](_0x457f1a,_0x16b2e5(0x1c9),_0x16b2e5(0x1d1));try{await fs['ensureDir'](_0x58399f),await fs[_0x16b2e5(0x1b2)](_0x4c26fc),await fs[_0x16b2e5(0x1b2)](_0x4eb41a),log[_0x16b2e5(0x13e)](_0x16b2e5(0x15d)+_0x273034+':\x20'+_0x58399f+',\x20'+_0x4c26fc+',\x20'+_0x4eb41a),await downloadAndSaveJson(_0x273034,_0x4eb41a),await copyModsFromInstallation(_0x58399f,_0x273034),await copyConfigsFromInstallation(_0x4c26fc,_0x273034);}catch(_0x5d922b){log[_0x16b2e5(0x211)]('Failed\x20to\x20initialize\x20'+_0x273034+':\x20'+_0x5d922b['message']),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow[_0x16b2e5(0x188)][_0x16b2e5(0x178)](_0x16b2e5(0x200),_0x16b2e5(0x204)+_0x273034+':\x20'+_0x5d922b['message']);}}}async function installJava(_0x1b3d43){const _0x9a92ae=a0_0x152d80,_0x433d5c=['bin',_0x9a92ae(0x208)],_0x3cfae0=await fs[_0x9a92ae(0x175)](_0x1b3d43)[_0x9a92ae(0x15f)](()=>[]);for(const _0x2c1167 of _0x3cfae0){const _0x50b009=path['join'](_0x1b3d43,_0x2c1167,..._0x433d5c);if(await fs[_0x9a92ae(0x1a7)](_0x50b009))return log[_0x9a92ae(0x13e)](_0x9a92ae(0x1d3)+_0x50b009),_0x50b009;}log['info'](_0x9a92ae(0x1f6));const _0x2dde5a=_0x9a92ae(0x1a5),_0x404f71=path[_0x9a92ae(0x16d)](app[_0x9a92ae(0x216)](_0x9a92ae(0x1a0)),_0x9a92ae(0x137));try{await downloadFile(_0x2dde5a,_0x404f71),log[_0x9a92ae(0x13e)](_0x9a92ae(0x158)),await extractZip(_0x404f71,_0x1b3d43),log[_0x9a92ae(0x13e)](_0x9a92ae(0x18c)+_0x1b3d43+'.');const _0x3f3a25=await fs[_0x9a92ae(0x175)](_0x1b3d43)[_0x9a92ae(0x15f)](()=>[]),_0x863ed6=_0x3f3a25[_0x9a92ae(0x162)](_0xa133e=>_0xa133e[_0x9a92ae(0x1a4)]()[_0x9a92ae(0x163)](_0x9a92ae(0x198)));if(!_0x863ed6)throw new Error(_0x9a92ae(0x19c));const _0x27735a=path[_0x9a92ae(0x16d)](_0x1b3d43,_0x863ed6,..._0x433d5c);if(!await fs[_0x9a92ae(0x1a7)](_0x27735a))throw new Error('java.exe\x20not\x20found\x20in\x20the\x20extracted\x20JDK\x20directory:\x20'+_0x27735a);return log[_0x9a92ae(0x13e)](_0x9a92ae(0x189)+_0x27735a),_0x27735a;}catch(_0x1add5e){return log[_0x9a92ae(0x211)](_0x9a92ae(0x199)+_0x1add5e[_0x9a92ae(0x212)]),mainWindow&&!mainWindow[_0x9a92ae(0x1e7)]()&&mainWindow[_0x9a92ae(0x188)]['send'](_0x9a92ae(0x200),'Failed\x20to\x20install\x20Java\x2021:\x20'+_0x1add5e['message']),null;}}async function verifyJava(_0x372be3){return new Promise((_0x4ad0c3,_0x467d2f)=>{const _0x59f536=a0_0x3e54;exec('\x22'+_0x372be3+_0x59f536(0x20f),(_0x595334,_0x36f3f3,_0x118403)=>{const _0x2ce28a=_0x59f536;_0x595334?_0x467d2f(new Error(_0x2ce28a(0x1ff)+_0x595334[_0x2ce28a(0x212)])):(log[_0x2ce28a(0x13e)]('Java\x20version\x20output:\x20'+_0x118403),_0x4ad0c3(!![]));});});}async function downloadFile(_0x26329a,_0x24d1fe){const _0x309d4f=a0_0x152d80,_0x98c646=fs[_0x309d4f(0x1bc)](_0x24d1fe),_0x3981ee=await axios({'url':_0x26329a,'method':_0x309d4f(0x15a),'responseType':_0x309d4f(0x1d2),'maxRedirects':0x5}),_0x15fdae=_0x3981ee['headers']['content-length'];let _0x1bdce2=0x0;return mainWindow&&!mainWindow[_0x309d4f(0x1e7)]()&&mainWindow[_0x309d4f(0x188)][_0x309d4f(0x178)]('java_download_progress',{'percent':0x0,'transferred':0x0,'total':parseInt(_0x15fdae)}),_0x3981ee[_0x309d4f(0x1f1)]['on']('data',_0x20ec32=>{const _0x4b9c2a=_0x309d4f;_0x1bdce2+=_0x20ec32[_0x4b9c2a(0x1d4)];const _0x1384a7=_0x1bdce2/_0x15fdae*0x64;mainWindow&&!mainWindow[_0x4b9c2a(0x1e7)]()&&mainWindow['webContents']['send']('java_download_progress',{'percent':_0x1384a7,'transferred':_0x1bdce2,'total':parseInt(_0x15fdae)});}),_0x3981ee[_0x309d4f(0x1f1)][_0x309d4f(0x186)](_0x98c646),new Promise((_0x4a64a9,_0x428901)=>{const _0x5f4cf5=_0x309d4f;_0x98c646['on'](_0x5f4cf5(0x1fe),_0x4a64a9),_0x98c646['on']('error',_0x428901);});}async function extractZip(_0x3a966f,_0x3bdc5a){const _0x41ff2e=a0_0x152d80;return fs[_0x41ff2e(0x1fd)](_0x3a966f)[_0x41ff2e(0x186)](unzipper[_0x41ff2e(0x1f5)]({'path':_0x3bdc5a}))[_0x41ff2e(0x1b0)]();}async function downloadAndSaveJson(_0x5157da,_0x376ed5){const _0x48df5a=a0_0x152d80,_0x5e067b=VERSION_JSON_MAP[_0x5157da],_0x16fa45=VERSION_JSON_URLS[_0x5157da],_0x475e2a=path[_0x48df5a(0x16d)](_0x376ed5,_0x5e067b);try{const _0x40d25a=await axios['get'](_0x16fa45,{'responseType':_0x48df5a(0x16e)});await fs[_0x48df5a(0x18b)](_0x475e2a,_0x40d25a[_0x48df5a(0x1f1)],{'spaces':0x4}),log[_0x48df5a(0x13e)](_0x48df5a(0x172)+_0x475e2a);}catch(_0x5d1e94){log[_0x48df5a(0x211)](_0x48df5a(0x14c)+_0x5157da+':\x20'+_0x5d1e94[_0x48df5a(0x212)]),mainWindow&&!mainWindow[_0x48df5a(0x1e7)]()&&mainWindow[_0x48df5a(0x188)][_0x48df5a(0x178)](_0x48df5a(0x200),_0x48df5a(0x14c)+_0x5157da+':\x20'+_0x5d1e94[_0x48df5a(0x212)]);}}function a0_0x2568(){const _0x11bde0=['level','Unsupported\x20version\x20selected:\x20','Error\x20in\x20auto-updater:','login-microsoft','ramAllocation','copy','fabric\x201.21.5','selectedVersion','OpenJDK21U-jdk_x64_windows_hotspot_21.0.5_11.zip','\x20[Microsoft\x20Login]','checking-for-update','Created\x20launcher_profiles.json\x20at\x20','activate','transports','SexyLauncher','info','Folder\x20does\x20not\x20exist:\x20','quit','asm','transferred','unlinkSync','checkForUpdatesAndNotify','hide','[DATA]\x20Received\x20undefined\x20data.','file','java','appData','[ERROR]\x20Launcher\x20error:\x20','-XX:MaxGCPauseMillis=50','Failed\x20to\x20download\x20or\x20save\x20JSON\x20file\x20for\x20','dirname','fabric\x201.21.4s','RAM\x20allocation\x20set\x20to:\x20Min=','255NUVjbn','quitAndInstall','Failed\x20to\x20copy\x20mods\x20for\x20','once','fabric\x201.21.5s','getAllWindows','has','438149xcWZwL','Java\x2021\x20downloaded\x20successfully.','ow2','GET','https://github.com/SheldersonGD/versions/releases/download/versions/fabric-shelder-edition-1.21.4.json','log','Directories\x20created\x20successfully\x20for\x20','Fabric\x20Shelder\x20Edition','catch','ipc','Game\x20has\x20exited.\x20Reopening\x20the\x20launcher.','find','startsWith','config','mods','openPath','total','update_error','task','org','uuid','9.8','join','json','xuid','minecraft-launcher-core','00000000402b5328','JSON\x20file\x20downloaded\x20and\x20saved\x20to:\x20','electron-log','Config\x20for\x20','readdir','Client','electron','send','.sexylauncher','-XX:MaxHeapFreeRatio=60','1.21.5','max','data-log','forEach','get','resolve','Java\x2021\x20is\x20not\x20installed\x20correctly.','libraries','fs-extra','version','-XX:G1NewSizePercent=20','pipe','update_available','webContents','Java\x2021\x20installed\x20successfully\x20at\x20',',\x20with\x20version:\x20','writeJson','Java\x2021\x20extracted\x20to\x20','update-not-available','Update\x20downloaded.','name','update-available','homedir','warn','fabric-shelder-edition.json','percent','discord-rpc','min','update_downloaded','jdk','Failed\x20to\x20install\x20Java\x2021:\x20','rmdirSync','Game\x20assets\x20fully\x20loaded.\x20Hiding\x20the\x20launcher.','JDK\x20folder\x20not\x20found\x20after\x20extraction.','setActivity','Roaming','getAuth','temp','ready','debug','loadFile','toLowerCase','https://github.com/adoptium/temurin21-binaries/releases/download/jdk-21.0.5%2B11/OpenJDK21U-jdk_x64_windows_hotspot_21.0.5_11.zip','existsSync','pathExists','-XX:+UseStringDeduplication','1.21.4','update-downloaded','handle','login','1214301snDHoS','[DATA]\x20URL\x20is\x20missing.\x20Full\x20data:','Opening\x20game\x20files\x20directory\x20at:\x20','promise','Selected\x20version\x20stored:\x20','ensureDir','electron-updater','set','\x20copied\x20successfully\x20from\x20installation\x20directory\x20to\x20Minecraft\x20config\x20folder.','access_token','[DATA]\x20Received\x20non-object\x20data:\x20','Failed\x20to\x20create\x20directories:\x20','https://login.live.com/oauth20_desktop.srf','\x20(Type:\x20','set-ram-allocation','createWriteStream','\x20copied\x20successfully\x20from\x20installation\x20directory\x20to\x20Minecraft\x20mods\x20folder.','progress','update_download_progress','icon.png','429640sMdmGq','update_not_available','46770cpTOoa','show','restart_app','Checking\x20for\x20updates...','Loading\x20progress:\x20','string','versions','-XX:G1ReservePercent=15','window-all-closed','logger','1237030928996630550','release','get-ram-allocation','Mods\x20for\x20','fabric-shelder-edition','stream','Java\x2021\x20is\x20already\x20installed\x20at\x20','length','stringify','Microsoft\x20user\x20is\x20not\x20logged\x20in!','App\x20starting...','Game\x20files\x20directory\x20opened\x20successfully.','launcher_profiles.json','Config\x20directory\x20does\x20not\x20exist\x20at:\x20','url','profile','object','-XX:MinHeapFreeRatio=20','isPackaged','readdirSync','launcher_profiles.json\x20already\x20exists\x20at\x20','bin','includes','Mods\x20directory\x20does\x20not\x20exist\x20at:\x20','launch','837438QiJMpL','isDestroyed','Invalid\x20RAM\x20allocation\x20received.','-XX:+UseG1GC','delete','Launcher\x20error:\x20','darwin','setMenu','Java\x20installation\x20failed.\x20Cannot\x20proceed.','unzipper','%\x20(','data','Connecting...','exe','-Xmx','Extract','Java\x2021\x20not\x20found.\x20Starting\x20download\x20and\x20installation...','Deleted:\x20','number','3615516olnssd','client_token','msa','microsoftUser','createReadStream','finish','Java\x20verification\x20failed:\x20','error-message','logout-microsoft','GET\x20SEXYLAUNCHER','floor','Initialization\x20failed\x20for\x20','Failed\x20to\x20launch\x20Minecraft:\x20','Sexy\x20people\x20aren\x27t\x20born,\x20they\x20are\x20made.','[DEBUG]\x20','java.exe','path','custom','ignore','writeFileSync','Download\x20progress:\x20','Failed\x20to\x20copy\x20config\x20for\x20','\x22\x20-version','16RDrIeD','error','message','AppData','fabric\x201.21.4','1834224Qwdoiq','getPath','Discord\x20RPC\x20is\x20ready!','Received\x20request\x20to\x20launch\x20game\x20for\x20user:\x20'];a0_0x2568=function(){return _0x11bde0;};return a0_0x2568();}function createWindow(){const _0x390397=a0_0x152d80;mainWindow=new BrowserWindow({'width':0x190,'height':0x226,'icon':path['join'](__dirname,'assets',_0x390397(0x1c0)),'roundedCorners':!![],'webPreferences':{'preload':path[_0x390397(0x16d)](__dirname,'preload.js'),'contextIsolation':!![],'enableRemoteModule':![]},'frame':![],'resizable':![]}),mainWindow[_0x390397(0x1ed)](null),mainWindow[_0x390397(0x1a3)]('index.html'),mainWindow[_0x390397(0x153)]('ready-to-show',()=>{const _0x367824=_0x390397;autoUpdater[_0x367824(0x144)]();});}autoUpdater['on'](a0_0x152d80(0x139),()=>{const _0x3564fe=a0_0x152d80;log[_0x3564fe(0x13e)](_0x3564fe(0x1c6)),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow['webContents'][_0x3564fe(0x178)](_0x3564fe(0x212),_0x3564fe(0x1c6));}),autoUpdater['on'](a0_0x152d80(0x190),_0x4c1ceb=>{const _0x302ecb=a0_0x152d80;log[_0x302ecb(0x13e)]('Update\x20available.'),mainWindow&&!mainWindow[_0x302ecb(0x1e7)]()&&mainWindow[_0x302ecb(0x188)][_0x302ecb(0x178)](_0x302ecb(0x187),_0x4c1ceb);}),autoUpdater['on'](a0_0x152d80(0x18d),_0x4a1543=>{const _0xcecad8=a0_0x152d80;log[_0xcecad8(0x13e)]('Update\x20not\x20available.'),mainWindow&&!mainWindow[_0xcecad8(0x1e7)]()&&mainWindow[_0xcecad8(0x188)][_0xcecad8(0x178)](_0xcecad8(0x1c2),_0x4a1543);}),autoUpdater['on']('download-progress',_0x4793ef=>{const _0x93d9ef=a0_0x152d80,_0x33854f=Math[_0x93d9ef(0x203)](_0x4793ef[_0x93d9ef(0x194)]),_0x5e00b4=_0x4793ef[_0x93d9ef(0x142)],_0xa2a170=_0x4793ef[_0x93d9ef(0x167)];log[_0x93d9ef(0x13e)](_0x93d9ef(0x20d)+_0x33854f+_0x93d9ef(0x1f0)+_0x5e00b4+'/'+_0xa2a170+')'),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow[_0x93d9ef(0x188)][_0x93d9ef(0x178)](_0x93d9ef(0x1bf),{'percent':_0x33854f,'transferred':_0x5e00b4,'total':_0xa2a170});}),autoUpdater['on'](a0_0x152d80(0x1aa),_0x3b6673=>{const _0x54d611=a0_0x152d80;log[_0x54d611(0x13e)](_0x54d611(0x18e)),mainWindow&&!mainWindow[_0x54d611(0x1e7)]()&&mainWindow[_0x54d611(0x188)]['send'](_0x54d611(0x197),_0x3b6673);}),autoUpdater['on'](a0_0x152d80(0x211),_0x3d004a=>{const _0x465a6a=a0_0x152d80;log[_0x465a6a(0x211)](_0x465a6a(0x21b),_0x3d004a),mainWindow&&!mainWindow[_0x465a6a(0x1e7)]()&&mainWindow[_0x465a6a(0x188)]['send'](_0x465a6a(0x168),_0x3d004a);}),ipcMain['on'](a0_0x152d80(0x1c5),()=>{const _0x141a58=a0_0x152d80;autoUpdater[_0x141a58(0x151)]();});const msAuth=new MicrosoftAuth();ipcMain['handle'](a0_0x152d80(0x21c),async()=>{const _0x325a59=a0_0x152d80;try{const {MicrosoftAuth:_0x1d6f93}=await import('minecraft-auth'),_0x3c0ce7=new _0x1d6f93({'clientId':_0x325a59(0x171),'redirectUri':_0x325a59(0x1b9)}),_0x4ecc3a=await _0x3c0ce7[_0x325a59(0x19f)]('device-code');return store[_0x325a59(0x1b4)]('microsoftUser',_0x4ecc3a),{'success':!![],'profile':{'uuid':_0x4ecc3a[_0x325a59(0x16b)]||_0x4ecc3a[_0x325a59(0x1dc)]&&_0x4ecc3a['profile']['id'],'username':_0x4ecc3a['name']||_0x4ecc3a[_0x325a59(0x1dc)]&&_0x4ecc3a['profile'][_0x325a59(0x18f)],'accessToken':_0x4ecc3a['access_token'],'clientToken':_0x4ecc3a[_0x325a59(0x1fa)],'xuid':_0x4ecc3a[_0x325a59(0x16f)]}};}catch(_0x46cf18){return{'success':![],'message':_0x46cf18[_0x325a59(0x212)]};}}),ipcMain[a0_0x152d80(0x1ab)](a0_0x152d80(0x201),async()=>{const _0x194a9f=a0_0x152d80;return store[_0x194a9f(0x1ea)](_0x194a9f(0x1fc)),{'success':!![]};}),ipcMain['on']('set-selected-version',(_0x423b14,_0x49c538)=>{const _0x5c4e09=a0_0x152d80;SUPPORTED_VERSIONS[_0x5c4e09(0x1e3)](_0x49c538)?(store['set'](_0x5c4e09(0x136),_0x49c538),log[_0x5c4e09(0x13e)]('Selected\x20version\x20set\x20to:\x20'+_0x49c538)):(log[_0x5c4e09(0x211)]('Attempted\x20to\x20set\x20unsupported\x20version:\x20'+_0x49c538),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow[_0x5c4e09(0x188)]['send']('error-message',_0x5c4e09(0x21a)+_0x49c538));});function createLauncherProfilesIfMissing(_0x5da1d0,_0x3373b8){const _0x538369=a0_0x152d80,_0x38b0c1=path[_0x538369(0x16d)](_0x5da1d0,_0x538369(0x1d9));if(!fs[_0x538369(0x1a6)](_0x38b0c1)){const _0x5786ae={'profiles':{'fabric-shelder-edition':{'name':_0x538369(0x15e),'lastUsed':'fabric-shelder-edition','type':_0x538369(0x20a),'lastVersionId':_0x538369(0x1d1)}},'clientToken':'','selectedUser':{'account':'','profile':''},'authenticationDatabase':{}};fs[_0x538369(0x20c)](_0x38b0c1,JSON[_0x538369(0x1d5)](_0x5786ae,null,0x4)),log[_0x538369(0x13e)](_0x538369(0x13a)+_0x38b0c1);}else log['info'](_0x538369(0x1e1)+_0x38b0c1);}ipcMain['on']('openGameFiles',()=>{const _0x3e2097=a0_0x152d80,_0x49dfdf=store[_0x3e2097(0x17f)](_0x3e2097(0x136))||'fabric\x201.21',_0x54dcbb=path['join'](app[_0x3e2097(0x216)]('appData'),_0x3e2097(0x179),_0x49dfdf,'/');log[_0x3e2097(0x13e)](_0x3e2097(0x1af)+_0x54dcbb),shell[_0x3e2097(0x166)](_0x54dcbb)['then'](()=>{const _0x2eeade=_0x3e2097;log[_0x2eeade(0x13e)](_0x2eeade(0x1d8));})[_0x3e2097(0x15f)](_0x2781b0=>{const _0xe417a6=_0x3e2097;log[_0xe417a6(0x211)]('Error\x20opening\x20game\x20files\x20directory:',_0x2781b0),mainWindow&&!mainWindow[_0xe417a6(0x1e7)]()&&mainWindow[_0xe417a6(0x188)][_0xe417a6(0x178)](_0xe417a6(0x200),'Error\x20opening\x20game\x20files\x20directory:\x20'+_0x2781b0[_0xe417a6(0x212)]);});}),rpc['on'](a0_0x152d80(0x1a1),()=>{const _0x33ef33=a0_0x152d80;log[_0x33ef33(0x13e)](_0x33ef33(0x217)),rpc[_0x33ef33(0x19d)]({'details':'Playing\x20on\x20SexyLauncher','state':_0x33ef33(0x1f2),'largeImageKey':_0x33ef33(0x13d),'instance':![]});}),rpc[a0_0x152d80(0x1ac)]({'clientId':clientId})[a0_0x152d80(0x15f)](console[a0_0x152d80(0x211)]),ipcMain['on']('launch-game',async(_0x2e03d2,{username:_0x3209d0,version:_0x4461e4,useMicrosoft:_0x2a0802})=>{const _0x53f664=a0_0x152d80;log[_0x53f664(0x13e)](_0x53f664(0x218)+_0x3209d0+_0x53f664(0x18a)+_0x4461e4+(_0x2a0802?_0x53f664(0x138):''));if(!SUPPORTED_VERSIONS['includes'](_0x4461e4)){log[_0x53f664(0x211)](_0x53f664(0x21a)+_0x4461e4),mainWindow[_0x53f664(0x188)][_0x53f664(0x178)](_0x53f664(0x200),_0x53f664(0x21a)+_0x4461e4);return;}store[_0x53f664(0x1b4)](_0x53f664(0x136),_0x4461e4),log[_0x53f664(0x13e)](_0x53f664(0x1b1)+_0x4461e4),launcher=new Client();const _0x42ff2c=path['join'](app[_0x53f664(0x216)](_0x53f664(0x149)),_0x53f664(0x179)),_0x49ae01=path['join'](_0x42ff2c,_0x4461e4),_0x4f85e7=path[_0x53f664(0x16d)](_0x49ae01,'mods'),_0x5d2641=path[_0x53f664(0x16d)](_0x49ae01,_0x53f664(0x164)),_0x4f533b=path[_0x53f664(0x16d)](_0x42ff2c,_0x53f664(0x148));try{await fs[_0x53f664(0x1b2)](_0x42ff2c),await fs[_0x53f664(0x1b2)](_0x49ae01),await fs[_0x53f664(0x1b2)](_0x4f533b);}catch(_0x53ac91){log[_0x53f664(0x211)](_0x53f664(0x1b8)+_0x53ac91[_0x53f664(0x212)]),mainWindow[_0x53f664(0x188)][_0x53f664(0x178)]('error-message',_0x53f664(0x1b8)+_0x53ac91[_0x53f664(0x212)]);return;}createLauncherProfilesIfMissing(_0x49ae01,_0x4461e4);const _0x142625=await getJavaPath(_0x4f533b);if(!_0x142625){log[_0x53f664(0x211)](_0x53f664(0x181)),mainWindow[_0x53f664(0x188)][_0x53f664(0x178)](_0x53f664(0x200),_0x53f664(0x181));return;}try{const _0x20e610={'fabric\x201.21.4':_0x53f664(0x1a9),'fabric\x201.21.4s':_0x53f664(0x1a9),'fabric\x201.21.5':'1.21.5','fabric\x201.21.5s':_0x53f664(0x17b)},_0x2d7061=store['get']('ramAllocation')||{'min':'4G','max':'6G'};let _0x306029;if(_0x2a0802){const _0x114645=store[_0x53f664(0x17f)](_0x53f664(0x1fc));if(!_0x114645||!_0x114645[_0x53f664(0x1b6)]){log[_0x53f664(0x211)](_0x53f664(0x1d6)),mainWindow[_0x53f664(0x188)][_0x53f664(0x178)](_0x53f664(0x200),'Microsoft\x20login\x20required.\x20Please\x20log\x20in\x20with\x20Microsoft.');return;}_0x306029={'access_token':_0x114645[_0x53f664(0x1b6)],'client_token':_0x114645['client_token'],'uuid':_0x114645[_0x53f664(0x16b)]||_0x114645[_0x53f664(0x1dc)]&&_0x114645[_0x53f664(0x1dc)]['id'],'name':_0x114645[_0x53f664(0x18f)]||_0x114645['profile']&&_0x114645[_0x53f664(0x1dc)][_0x53f664(0x18f)],'user_properties':'{}','meta':{'type':_0x53f664(0x1fb),'demo':![],'xuid':_0x114645[_0x53f664(0x16f)]||'','clientId':_0x114645[_0x53f664(0x1fa)]}};}else _0x306029=Authenticator[_0x53f664(0x19f)](_0x3209d0);const _0x41a975={'authorization':_0x306029,'root':_0x49ae01,'javaPath':_0x142625,'version':{'number':_0x20e610[_0x4461e4],'type':_0x53f664(0x1ce),'custom':_0x53f664(0x1d1)},'memory':{'max':_0x2d7061[_0x53f664(0x17c)],'min':_0x2d7061['min']},'spawnOptions':{'detached':![],'stdio':_0x53f664(0x20b),'windowsHide':!![]}};function _0x659e69(_0x10cf6e){const _0x35951a=_0x53f664;fs[_0x35951a(0x1a6)](_0x10cf6e)?(fs[_0x35951a(0x1e0)](_0x10cf6e)['forEach'](_0x14ae73=>{const _0xdb0891=_0x35951a,_0x465e75=path['join'](_0x10cf6e,_0x14ae73);fs['lstatSync'](_0x465e75)['isDirectory']()?_0x659e69(_0x465e75):fs[_0xdb0891(0x143)](_0x465e75);}),fs[_0x35951a(0x19a)](_0x10cf6e),console[_0x35951a(0x15c)](_0x35951a(0x1f7)+_0x10cf6e)):console[_0x35951a(0x15c)](_0x35951a(0x13f)+_0x10cf6e);}const _0x214974=require('os'),_0x1de5bb=path[_0x53f664(0x16d)](_0x214974[_0x53f664(0x191)](),_0x53f664(0x213),_0x53f664(0x19e),_0x53f664(0x179)),_0x4e9cbb=[path[_0x53f664(0x16d)](_0x1de5bb,_0x53f664(0x214),_0x53f664(0x182),_0x53f664(0x16a),_0x53f664(0x159),_0x53f664(0x141),_0x53f664(0x141),'9.7.1'),path[_0x53f664(0x16d)](_0x1de5bb,_0x53f664(0x14e),_0x53f664(0x182),'org','ow2',_0x53f664(0x141),_0x53f664(0x141),'9.7.1'),path['join'](_0x1de5bb,_0x53f664(0x135),_0x53f664(0x182),_0x53f664(0x16a),_0x53f664(0x159),_0x53f664(0x141),_0x53f664(0x141),_0x53f664(0x16c)),path[_0x53f664(0x16d)](_0x1de5bb,_0x53f664(0x154),_0x53f664(0x182),'org',_0x53f664(0x159),_0x53f664(0x141),_0x53f664(0x141),_0x53f664(0x16c))];setTimeout(()=>{const _0x49dda3=_0x53f664;_0x4e9cbb[_0x49dda3(0x17e)](_0x659e69);},0x7d0),_0x41a975[_0x53f664(0x184)]['arguments']=[_0x53f664(0x1f4)+_0x2d7061[_0x53f664(0x17c)],'-Xms'+_0x2d7061[_0x53f664(0x196)],_0x53f664(0x1e9),_0x53f664(0x185),_0x53f664(0x1ca),_0x53f664(0x14b),'-XX:+DisableExplicitGC',_0x53f664(0x17a),_0x53f664(0x1de),_0x53f664(0x1a8)],launcher[_0x53f664(0x1e5)](_0x41a975),launcher['on'](_0x53f664(0x1be),_0x4873f7=>{const _0x4b7272=_0x53f664;if(_0x4873f7&&_0x4873f7['type']==='assets'&&typeof _0x4873f7[_0x4b7272(0x169)]===_0x4b7272(0x1f8)&&typeof _0x4873f7[_0x4b7272(0x167)]==='number'){const _0x404d20=Math['floor'](_0x4873f7[_0x4b7272(0x169)]/_0x4873f7[_0x4b7272(0x167)]*0x64);log[_0x4b7272(0x13e)](_0x4b7272(0x1c7)+_0x404d20+'%'),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow[_0x4b7272(0x188)][_0x4b7272(0x178)]('progress-update',_0x404d20),_0x404d20===0x64&&(log[_0x4b7272(0x13e)](_0x4b7272(0x19b)),mainWindow[_0x4b7272(0x145)]());}}),launcher['on'](_0x53f664(0x1a2),_0x1969cd=>{const _0x3d42a8=_0x53f664;log[_0x3d42a8(0x13e)](_0x3d42a8(0x207)+_0x1969cd),mainWindow&&!mainWindow[_0x3d42a8(0x1e7)]()&&mainWindow[_0x3d42a8(0x188)][_0x3d42a8(0x178)]('debug-log',_0x1969cd);}),launcher['on'](_0x53f664(0x1f1),_0x47810e=>{const _0x2ed86d=_0x53f664;if(_0x47810e===undefined)log[_0x2ed86d(0x211)](_0x2ed86d(0x146));else{if(typeof _0x47810e!==_0x2ed86d(0x1dd))log[_0x2ed86d(0x211)](_0x2ed86d(0x1b7)+_0x47810e+_0x2ed86d(0x1ba)+typeof _0x47810e+')');else _0x47810e&&typeof _0x47810e===_0x2ed86d(0x1dd)&&(_0x47810e[_0x2ed86d(0x1db)]?log[_0x2ed86d(0x13e)]('[DATA]\x20URL:\x20'+_0x47810e[_0x2ed86d(0x1db)]):log['info'](_0x2ed86d(0x1ae),JSON[_0x2ed86d(0x1d5)](_0x47810e,null,0x2)));}mainWindow&&!mainWindow[_0x2ed86d(0x1e7)]()&&mainWindow[_0x2ed86d(0x188)][_0x2ed86d(0x178)](_0x2ed86d(0x17d),_0x47810e);}),await copyModsFromInstallation(_0x4f85e7,_0x4461e4),await copyConfigsFromInstallation(_0x5d2641,_0x4461e4),launcher['on']('close',()=>{const _0x36acc5=_0x53f664;log[_0x36acc5(0x13e)](_0x36acc5(0x161)),setTimeout(()=>{const _0x3fd488=_0x36acc5;mainWindow&&!mainWindow[_0x3fd488(0x1e7)]()?mainWindow[_0x3fd488(0x1c4)]():createWindow();},0x3e8);}),launcher['on']('error',_0x55b693=>{const _0x4b7c2a=_0x53f664;log[_0x4b7c2a(0x211)](_0x4b7c2a(0x14a)+_0x55b693),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow['webContents'][_0x4b7c2a(0x178)]('error-message',_0x4b7c2a(0x1eb)+_0x55b693);});}catch(_0x3a5ef1){log[_0x53f664(0x211)](_0x53f664(0x205)+_0x3a5ef1[_0x53f664(0x212)]),mainWindow&&!mainWindow[_0x53f664(0x1e7)]()&&mainWindow[_0x53f664(0x188)][_0x53f664(0x178)](_0x53f664(0x200),_0x53f664(0x205)+_0x3a5ef1[_0x53f664(0x212)]);}rpc[_0x53f664(0x19d)]({'details':'Playing\x20as\x20'+_0x3209d0,'state':_0x53f664(0x206),'largeImageKey':_0x53f664(0x13d),'instance':![],'buttons':[{'label':_0x53f664(0x202),'url':'https://github.com/SheldersonGD/SexyLauncherPerformance'}]});});async function getJavaPath(_0x40602d){const _0x55d467=a0_0x152d80,_0xe7075a=await fs[_0x55d467(0x175)](_0x40602d)['catch'](()=>[]);for(const _0x251aba of _0xe7075a){const _0x1a89ea=path[_0x55d467(0x16d)](_0x40602d,_0x251aba,_0x55d467(0x1e2),_0x55d467(0x208));if(await fs['pathExists'](_0x1a89ea))return _0x1a89ea;}return null;}async function copyModsFromInstallation(_0x17bb9f,_0x1eec2c){const _0x183ede=a0_0x152d80;let _0xe69976;app[_0x183ede(0x1df)]?_0xe69976=path[_0x183ede(0x14d)](app[_0x183ede(0x216)](_0x183ede(0x1f3))):_0xe69976=path[_0x183ede(0x180)](__dirname);const _0x36140d=path[_0x183ede(0x16d)](_0xe69976,_0x1eec2c,_0x183ede(0x165));try{if(!fs[_0x183ede(0x1a6)](_0x36140d)){log[_0x183ede(0x192)](_0x183ede(0x1e4)+_0x36140d);return;}await fs[_0x183ede(0x1b2)](_0x17bb9f),await fs['copy'](_0x36140d,_0x17bb9f,{'overwrite':!![]}),log['info'](_0x183ede(0x1d0)+_0x1eec2c+_0x183ede(0x1bd));}catch(_0x2e56ce){log[_0x183ede(0x211)](_0x183ede(0x152)+_0x1eec2c+':\x20'+_0x2e56ce[_0x183ede(0x212)]),mainWindow&&!mainWindow[_0x183ede(0x1e7)]()&&mainWindow[_0x183ede(0x188)][_0x183ede(0x178)](_0x183ede(0x200),_0x183ede(0x152)+_0x1eec2c+':\x20'+_0x2e56ce[_0x183ede(0x212)]);}}function a0_0x3e54(_0xd4564c,_0x317429){const _0x25686d=a0_0x2568();return a0_0x3e54=function(_0x3e5452,_0x4c1f73){_0x3e5452=_0x3e5452-0x135;let _0x3413c7=_0x25686d[_0x3e5452];return _0x3413c7;},a0_0x3e54(_0xd4564c,_0x317429);}async function copyConfigsFromInstallation(_0x280d1f,_0x1ade9a){const _0x4c019b=a0_0x152d80;let _0x42e0fb;app[_0x4c019b(0x1df)]?_0x42e0fb=path[_0x4c019b(0x14d)](app[_0x4c019b(0x216)](_0x4c019b(0x1f3))):_0x42e0fb=path[_0x4c019b(0x180)](__dirname);const _0x264a1d=path[_0x4c019b(0x16d)](_0x42e0fb,_0x1ade9a,_0x4c019b(0x164));try{if(!fs['existsSync'](_0x264a1d)){log[_0x4c019b(0x192)](_0x4c019b(0x1da)+_0x264a1d);return;}await fs[_0x4c019b(0x1b2)](_0x280d1f),await fs[_0x4c019b(0x21e)](_0x264a1d,_0x280d1f,{'overwrite':!![]}),log[_0x4c019b(0x13e)](_0x4c019b(0x174)+_0x1ade9a+_0x4c019b(0x1b5));}catch(_0x931587){log[_0x4c019b(0x211)](_0x4c019b(0x20e)+_0x1ade9a+':\x20'+_0x931587[_0x4c019b(0x212)]),mainWindow&&!mainWindow[_0x4c019b(0x1e7)]()&&mainWindow[_0x4c019b(0x188)][_0x4c019b(0x178)](_0x4c019b(0x200),_0x4c019b(0x20e)+_0x1ade9a+':\x20'+_0x931587[_0x4c019b(0x212)]);}}app['on'](a0_0x152d80(0x1a1),async()=>{const _0x247bfe=a0_0x152d80;!store[_0x247bfe(0x156)](_0x247bfe(0x21d))&&store[_0x247bfe(0x1b4)](_0x247bfe(0x21d),{'min':'4G','max':'6G'}),await createNecessaryDirectories(),createWindow();}),app['on'](a0_0x152d80(0x1cb),()=>{const _0x441f3f=a0_0x152d80;process['platform']!==_0x441f3f(0x1ec)&&app[_0x441f3f(0x140)]();}),app['on'](a0_0x152d80(0x13b),()=>{const _0x3354c9=a0_0x152d80;BrowserWindow[_0x3354c9(0x155)]()['length']===0x0&&createWindow();}),ipcMain['on'](a0_0x152d80(0x1bb),(_0x29602c,_0x167993)=>{const _0x3e8c07=a0_0x152d80;_0x167993&&typeof _0x167993[_0x3e8c07(0x196)]===_0x3e8c07(0x1c8)&&typeof _0x167993[_0x3e8c07(0x17c)]===_0x3e8c07(0x1c8)?(store[_0x3e8c07(0x1b4)]('ramAllocation',_0x167993),log['info'](_0x3e8c07(0x14f)+_0x167993[_0x3e8c07(0x196)]+',\x20Max='+_0x167993[_0x3e8c07(0x17c)])):(log[_0x3e8c07(0x211)](_0x3e8c07(0x1e8)),mainWindow&&!mainWindow['isDestroyed']()&&mainWindow[_0x3e8c07(0x188)][_0x3e8c07(0x178)]('error-message',_0x3e8c07(0x1e8)));}),ipcMain[a0_0x152d80(0x1ab)](a0_0x152d80(0x1cf),()=>{const _0x43c60e=a0_0x152d80;return store[_0x43c60e(0x17f)]('ramAllocation')||{'min':'4G','max':'6G'};});